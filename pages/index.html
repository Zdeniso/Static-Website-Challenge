<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Single Page Application</title>
    <link rel="stylesheet" href="../src/styles/app.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <link rel="icon" href="../assets/favicon.ico"/>
    <script type="module" src="../src/interaction/app.ts"></script>
</head>
<body>
    <!-- ===============================================--> 
    <!-- ===============================================-->
    <!-- ASIDE COMMON AREA -->
    <!-- ===============================================-->
    <!-- ===============================================-->     
    <aside id="aside-common-area">
        <img id="company-logo" src="../assets/company-logo.svg" alt="Company logo" />
        <div>
            <nav class="navigation-area__tabs" id="projects-nav"><span class="material-icons">apartment</span>Projects</nav>
            <nav class="navigation-area__tabs" id="users-nav"><span class="material-icons">manage_accounts</span>Users</nav>
        </div>
    </aside>    

    <!-- ===============================================-->
    <!-- ===============================================--> 
    <!-- MAIN -->
    <!-- ===============================================-->
    <!-- ===============================================--> 
    <main id="main-area"> 

        <!-- ===============================================-->
        <!-- PROJECTS - CARDS PAGE -->
        <!-- ===============================================--> 
        <div type="page" class="main_primary-page" id="projects-cards-page" style="display:''">         
            <!-- Header Area -->
            <header class="header_primary-page">
                <h1>Projects</h1>
            </header>
            <div class="subheader_primary-page" id="actions-ui">
                <button class="import-export-btn" id="projects-cards-import-button">Import<span class="material-icons">download</span></button>
                <button class="import-export-btn" id="projects-cards-export-button">Export<span class="material-icons">download</span></button>    
                <button class="button_add-element" id="projects-cards-new-project-button">+ New Project</button>
            </div>

            <!-- Content Area - Project card -->
            <div class="content-area" id="projects-cards-table">
                <!-- Project1.ui -->
                <!-- Project2.ui -->
                <!-- ... -->
            </div>

            <!-- Modal - NEw Project -->
            <dialog class="dialog-for-forms" id="new-project-dialog">
                <form class="common-form" id="new-project-form">
                    <h1>New project</h1>
                    <label for="project-name">
                        <div class="title-zone">
                            <span class="material-icons">apartment</span>
                            <span class="label-title">Name</span>
                        </div>
                        <input id="project-name" name="project-name" type="text" placeholder="Hospital Center" required />
                        <small>TIP: Give it a short name.</small>
                    </label>

                    <label for="project-description">
                        <div class="title-zone">
                            <span class="material-icons">drive_file_rename_outline</span>
                            <span class="label-title">Description</span>
                        </div>
                            <textarea id="project-description" name="project-description" type="text" required></textarea>
                    </label>

                    <label for="project-status">
                        <div class="title-zone">
                            <span class="material-icons">keyboard_double_arrow_right</span>
                            <span class="label-title">Status</span>
                        </div>
                        <select id="project-status" name="project-status">
                            <option value="" disabled selected>-- Choose an option --</option>
                            <option>Draft</option>
                            <option>On-hold</option>
                            <option>Under review</option>
                            <option>Completed</option>
                            <option>Cancelled</option>
                        </select>
                    </label>

                    <label for="project-client">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Client</span>
                        </div>
                        <input id="project-client" name="project-client" type="text" required />
                    </label>

                    <label for="project-cost">
                        <div class="title-zone">
                            <span class="material-icons">attach_money</span>
                            <span class="label-title">Cost</span>
                        </div>
                        <input id="project-cost" name="project-cost" type="number" placeholder="CHF" required />
                    </label>

                    <label for="project-finish-date">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Finish date</span>
                        </div>
                        <input id="project-finish-date" name="project-finish-date" type="date"/>
                    </label>

                    <div class="form-actions">
                        <button id="new-project-cancel-button" type="button" class="btn cancel">Cancel</button>
                        <button type="submit" class="btn accept">Accept</button>
                    </div>
                </form>
            </dialog>
        </div>

        <!-- ===============================================-->
        <!-- USERS - ALL USERS -->
        <!-- ===============================================--> 
        <div type="page" class="main_primary-page" id="all-users-page" style="display: none">         
            <!-- Header Area -->
            <header class="header_primary-page">
                <h1>All Users</h1>
            </header>
            <div class="subheader_primary-page" id="actions-ui">
                <button class="import-export-btn" id="all-users-import-button">Import<span class="material-icons">download</span></button>
                <button class="import-export-btn" id="all-users-export-button">Export<span class="material-icons">download</span></button>    
                <button class="button_add-element" id="all-users-new-user-button">+ New User</button>
            </div>
                 
            <!-- üåê TABLE AREA -->
            <div class="main__table-area">

            <!-- üß© En-t√™te du tableau -->
                <div class="table-header">
                    <div>üë§ Name</div>
                    <div>üìß Company</div>
                    <div>üìÖ Role</div>
                    <div>üìÖ Email</div>
                    <div>‚öôÔ∏è Modifications</div>
                </div>
                <div id="all-users-table">
                    <!-- üë§ Lignes utilisateurs se rajoutant avec l'ui de la classe User -->
                </div>
            </div>


            <!-- Footer area-->
            <footer id="footer-users-page-area">
                <div id="footer__pages-navigation">
                    <div>Prev</div>
                    <div>1</div>
                    <div>2</div>
                    <div>...</div>
                    <div>8</div>
                    <div>9</div>
                    <div>Next</div>
                </div>
                <div id="footer__showing-choice">
                    <div>Showing</div>
                    <div>5</div>
                    <div>of 120 entries</div>
                </div>        
            </footer>

            <!-- Modal - New user -->
            <dialog class="dialog-for-forms" id="new-user-dialog">
                <form class="common-form" id="new-user-form">
                    <h1>Add user to the project</h1>
                    <label for="new-user-name">
                        <div class="title-zone">
                            <span class="material-icons">account_circle</span>
                            <span class="label-title">Name  <span style="font-style: italic; font-size: 0.8rem">(name SURNAME)</span></span>
                        </div>
                        <input name="new-user-name" id="new-user-name" type="text" required />
                        <small>TIP: Give it a short name.</small>
                    </label>
                    <label for="new-user-company">
                        <div class="title-zone">
                            <span class="material-icons">apartment</span>
                            <span class="label-title">Company</span>
                        </div>
                        <select name="new-user-company" id="new-user-company">
                            <option value="" disabled selected>-- Choose an option --</option>
                            <option>Losinger-Marazzi</option>
                            <option>Implenia</option>
                            <option>Vinci-Construction</option>
                        </select>
                    </label>
                    <label for="new-user-role">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Role</span>
                        </div>
                        <select name="new-user-role" id="new-user-role">
                            <option value="" disabled selected>-- Choose an option --</option>
                            <option>Architect</option>
                            <option>Electrical Engineer</option>
                            <option>HVAC Engineer</option>
                            <option>Structural Engineer</option>
                            <option>BIM Manager</option>
                            <option>Client</option>
                        </select>
                    </label>
                    <label for="new-user-email">
                        <div class="title-zone">
                            <span class="material-icons">alternate_email</span>
                            <span class="label-title">Email</span>
                        </div>
                        <input name="new-user-email" id="new-user-email" type="text" placeholder="John.delaware@vinci-construction.com" required />
                    </label>
                    <div class="form-actions">
                        <button type="button" class="btn cancel" id="new-user-cancel-button"  >Cancel</button>
                        <button type="submit" class="btn accept">Accept</button>
                    </div>
                </form>
            </dialog>  

            <!-- Modal - Edit user -->
            <dialog class="dialog-for-forms" id="edit-user-dialog">
                <form class="common-form" id="edit-user-form">
                    <h1>Edit user's information</h1>
                    <label for="edit-user-name">
                        <div class="title-zone">
                            <span class="material-icons">account_circle</span>
                            <span class="label-title">Name  <span style="font-style: italic; font-size: 0.8rem">(name SURNAME)</span></span>
                        </div>
                        <input name="edit-user-name" id="edit-user-name" type="text" required />
                        <small>TIP: Give it a short name.</small>
                    </label>
                    <label for="edit-user-company">
                        <div class="title-zone">
                            <span class="material-icons">apartment</span>
                            <span class="label-title">Company</span>
                        </div>
                        <select name="edit-user-company" id="edit-user-company">
                            <option value="" disabled selected>-- Choose an option --</option>
                            <option>Losinger-Marazzi</option>
                            <option>Implenia</option>
                            <option>Vinci-Construction</option>
                        </select>
                    </label>
                    <label for="edit-user-role">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Role</span>
                        </div>
                        <select name="edit-user-role" id="edit-user-role">
                            <option value="" disabled selected>-- Choose an option --</option>
                            <option>Architect</option>
                            <option>Electrical Engineer</option>
                            <option>HVAC Engineer</option>
                            <option>Structural Engineer</option>
                            <option>BIM Manager</option>
                            <option>Client</option>
                        </select>
                    </label>
                    <label for="edit-user-email">
                        <div class="title-zone">
                            <span class="material-icons">alternate_email</span>
                            <span class="label-title">Email</span>
                        </div>
                        <input name="edit-user-email" id="edit-user-email" type="text" placeholder="John.delaware@vinci-construction.com" required />
                    </label>
                    <div class="form-actions">
                        <button type="button" class="btn cancel" id="edit-user-cancel-button"  >Cancel</button>
                        <button type="submit" class="btn accept">Accept</button>
                    </div>
                </form>
            </dialog>  

            
        </div>  

        <!-- ===============================================-->
        <!-- PROJECT - DETAILS PAGE -->
        <!-- ===============================================--> 
        <div type="page" class="main_secondary-page" id="project-details-page" style="display: none">
            <!-- Header -->
            <header class="header__secondary-page">
                <div class="header__main-title-area">
                    <p>PN</p>
                    <h1>Project name</h1>
                    <p>Community hospital located at downtown</p>
                </div>
                <div>
                    <button class="header__account-button">
                    <img id="account-avatar" src="https://i.pravatar.cc/32?img=2" alt="Avatar">Denis Pommier
                    </button>
                </div>
            </header>
            <div id="project-details-page__content-area">
                <section id="project-details">
                    <div id="project-details__edit-zone">
                        <button id="project-details-project-users-button">Users</button>
                        <button id="project-details-edit-button">Edit</button>
                        <span id="project-details-delete-button" class="material-icons">close</span>
                    </div>
                    <div id="project-details__informations">
                        <div id="project-details__status">
                            <h2>Status</h2>
                            <p>Active</p>
                        </div>
                        <div id="project-details__cost"> 
                            <h2>Cost</h2>
                            <p>CHF 2'541.00</p>
                        </div>
                        <div id="project-details__client">
                            <h2>Client</h2>
                            <p>Losinger-Marazzi SA</p>
                        </div>   
                        <div id="project-details__finishdate">
                            <h2>Finish date</h2>
                            <p>2023-05-01</p>
                        </div>
                    </div>
                    <div id="project-details__progress-bar">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 80%;">80%</div>
                        </div>               
                    </div>
                </section>

                <section id="todo-list">
                    <div id="todo-list__adding-zone">
                        <p>To-Do</p>
                        <div>
                            <span class="material-icons">search</span>
                            <input class="search-bar-todo-list" id="WAITING" type="text" maxlength="50" placeholder="Search To-Do's by name"/>
                            <span class="material-icons" id="project-details-todo-add-button">add</span>
                        </div>
                    </div>
                    <div id="project-details-todo-table">
                        <!-- Todo item 1 -->
                        <!-- Todo item 2 -->
                        <!-- ... -->
                    </div>
                </section>




                <section id="viewer3D">Viewer3D - WIP</section>              
            </div>


            <!-- Modal - Add Todo -->
            <dialog class="dialog-for-forms" id="add-todo-dialog">
                <form class="common-form" id="add-todo-form">
                    <h1>New Todo Item</h1>
                    <label for="todo-name">
                        <div class="title-zone">
                            <span class="material-icons">apartment</span>
                            <span class="label-title">Name</span>
                        </div>
                        <input id="todo-name" name="todo-name" type="text" placeholder="At least 5 characters" required />
                        <small>TIP: Give it a short name.</small>
                    </label>

                    <label for="todo-description">
                        <div class="title-zone">
                            <span class="material-icons">drive_file_rename_outline</span>
                            <span class="label-title">Description</span>
                        </div>
                            <textarea id="todo-description" name="todo-description" type="text" required></textarea>
                    </label>

                    <label for="todo-status">
                        <div class="title-zone">
                            <span class="material-icons">keyboard_double_arrow_right</span>
                            <span class="label-title">Status</span>
                        </div>
                        <select id="todo-status" name="todo-status">
                            <option>Open</option>
                            <option>Close</option>
                        </select>
                    </label>

                    <label for="todo-priority">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Priority</span>
                        </div>
                        <select id="todo-priority" name="todo-priority" required>
                            <option>High</option>
                            <option>Medium</option>
                            <option>Low</option>
                        </select>
                    </label>

                    <label for="todo-type">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Type</span>
                        </div>
                        <select id="todo-type" name="todo-type" required>
                            <option>Clash</option>
                            <option>Information</option>
                            <option>Question</option>
                            <option>Error</option>
                            <option>Suggestion</option>
                        </select>
                    </label>

                    <label for="todo-creation-date">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Creation</span>
                        </div>
                        <input id="todo-creation-date" name="todo-creation-date" type="date" required />
                    </label>

                    <label for="todo-open-by">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Open by</span>
                        </div>
                        
                        <select id="todo-open-by" name="todo-open-by" required>
                            <option value="" disabled selected>-- Choose an option --</option>
                            <!-- Dynamic list from Project.users list -->
                        </select>
                    </label>

                    <label for="todo-intended-to">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Intended to</span>
                        </div>
                        <select id="todo-intended-to" name="todo-intended-to" required>
                            <option value="" disabled selected>-- Choose an option --</option>
                            <!-- Dynamic list from Project.users list -->
                        </select>
                    </label>
                    <div class="form-actions">
                        <button id="add-todo-cancel-button" type="button" class="btn cancel">Cancel</button>
                        <button type="submit" class="btn accept">Accept</button>
                    </div>
                </form>
            </dialog>                


            <!-- Modal - Edit Todo -->
            <dialog class="dialog-for-forms" id="edit-todo-dialog">
                <form class="common-form" id="edit-todo-form">
                    <h1>Edit Todo Item</h1>
                    <label for="edit-todo-name">
                        <div class="title-zone">
                            <span class="material-icons">apartment</span>
                            <span class="label-title">Name</span>
                        </div>
                        <input id="edit-todo-name" name="edit-todo-name" type="text" placeholder="At least 5 characters" required />
                        <small>TIP: Give it a short name.</small>
                    </label>

                    <label for="edit-todo-description">
                        <div class="title-zone">
                            <span class="material-icons">drive_file_rename_outline</span>
                            <span class="label-title">Description</span>
                        </div>
                            <textarea id="edit-todo-description" name="edit-todo-description" type="text" required></textarea>
                    </label>

                    <label for="edit-todo-status">
                        <div class="title-zone">
                            <span class="material-icons">keyboard_double_arrow_right</span>
                            <span class="label-title">Status</span>
                        </div>
                        <select id="edit-todo-status" name="edit-todo-status">
                            <option>Open</option>
                            <option>Close</option>
                        </select>
                    </label>

                    <label for="edit-todo-priority">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Priority</span>
                        </div>
                        <select id="edit-todo-priority" name="edit-todo-priority" required>
                            <option>High</option>
                            <option>Medium</option>
                            <option>Low</option>
                        </select>
                    </label>

                    <label for="edit-todo-type">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Type</span>
                        </div>
                        <select id="edit-todo-type" name="edit-todo-type" required>
                            <option>Clash</option>
                            <option>Information</option>
                            <option>Question</option>
                            <option>Error</option>
                            <option>Suggestion</option>
                        </select>
                    </label>

                    <label for="edit-todo-creation-date">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Creation</span>
                        </div>
                        <input id="edit-todo-creation-date" name="edit-todo-creation-date" type="date" required />
                    </label>

                    <label for="edit-todo-open-by">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Open by</span>
                        </div>
                        
                        <select id="edit-todo-open-by" name="edit-todo-open-by" required>
                            <option value="" disabled selected>-- Choose an option --</option>
                            <!-- Dynamic list from Project.users list -->
                        </select>
                    </label>

                    <label for="edit-todo-intended-to">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Intended to</span>
                        </div>
                        <select id="edit-todo-intended-to" name="edit-todo-intended-to" required>
                            <option value="" disabled selected>-- Choose an option --</option>
                            <!-- Dynamic list from Project.users list -->
                        </select>
                    </label>
                    <div class="form-actions">
                        <button id="edit-todo-cancel-button" type="button" class="btn cancel">Cancel</button>
                        <button type="submit" class="btn accept">Accept</button>
                    </div>
                </form>
            </dialog>                


            <!-- Modal - Edit project -->
            <dialog class="dialog-for-forms" id="edit-project-dialog">
                <form class="common-form" id="edit-project-form">
                    <h1>Edit project</h1>
                    <label for="edit-project-name">
                        <div class="title-zone">
                            <span class="material-icons">apartment</span>
                            <span class="label-title">Name</span>
                        </div>
                        <input id="edit-project-name" name="edit-project-name" type="text" placeholder="Hospital Center" required />
                        <small>TIP: Give it a short name.</small>
                    </label>

                    <label for="edit-project-description">
                        <div class="title-zone">
                            <span class="material-icons">drive_file_rename_outline</span>
                            <span class="label-title">Description</span>
                        </div>
                            <textarea id="edit-project-description" name="edit-project-description" type="text" required></textarea>
                    </label>

                    <label for="edit-project-status">
                        <div class="title-zone">
                            <span class="material-icons">keyboard_double_arrow_right</span>
                            <span class="label-title">Status</span>
                        </div>
                        <select id="edit-project-status" name="edit-project-status">
                            <option>Draft</option>
                            <option>On-hold</option>
                            <option>Under review</option>
                            <option>Completed</option>
                            <option>Cancelled</option>
                        </select>
                    </label>

                    <label for="edit-project-client">
                        <div class="title-zone">
                            <span class="material-icons">assignment_ind</span>
                            <span class="label-title">Client</span>
                        </div>
                        <input id="edit-project-client" name="edit-project-client" type="text" placeholder="Losinger-Marazzi SA" required />
                    </label>

                    <label for="edit-project-cost">
                        <div class="title-zone">
                            <span class="material-icons">attach_money</span>
                            <span class="label-title">Cost</span>
                        </div>
                        <input id="edit-project-cost" name="edit-project-cost" type="number" placeholder="CHF" required />
                    </label>

                    <label for="edit-project-finish-date">
                        <div class="title-zone">
                            <span class="material-icons">calendar_month</span>
                            <span class="label-title">Finish date</span>
                        </div>
                        <input id="edit-project-finish-date" name="edit-project-finish-date" type="date"/>
                    </label>

                    <div class="form-actions">
                        <button id="edit-project-cancel-button" type="button" class="btn cancel">Cancel</button>
                        <button type="submit" class="btn accept">Edit</button>
                    </div>
                </form>
            </dialog>

        </div>

        <!-- ===============================================-->
        <!-- USERS - PROJECT USERS -->
        <!-- ===============================================-->
        <div type="page" class="main_secondary-page" id="project-users-page" style="display: none">
            <!-- Header -->
            <header class="header__secondary-page">
                <div class="header__main-title-area">
                    <p>PN</p>
                    <h1>Project name</h1>
                    <p>Community hospital located at downtown</p>
                </div>
                <div>
                    <button class="header__account-button">
                    <img id="account-avatar" src="https://i.pravatar.cc/32?img=2" alt="Avatar">Denis Pommier
                    </button>
                </div>
            </header>

            <!-- Main area -->  
            <div class="subheader_primary-page">
                <button class="import-export-btn" id="project-users-import-button">Import<span class="material-icons">publish</span></button>
                <button class="import-export-btn" id="project-users-export-button">Export<span class="material-icons">download</span></button>
                <button class="import-export-btn" id ="project-users-back-to-project-details-button"><span class="material-icons">undo</span>Project details</button>                
                <button class="button_add-element" id="project-users-add-button">+ Add user</button>  
            </div>
            
            <!-- üåê TABLE AREA -->
            <div class="main__table-area">

            <!-- üß© En-t√™te du tableau -->
                <div class="table-header">
                    <div>üë§ Name</div>
                    <div>üìß Company</div>
                    <div>üìÖ Role</div>
                    <div>üìÖ Email</div>
                    <div>‚öôÔ∏è Modifications</div>
                </div>
                <div id="project-users-table">
                    <!-- üë§ Lignes utilisateurs se rajoutant avec l'ui de la classe User -->

                </div>
            </div>

            <!-- Footer area-->
            <footer id="footer-users-page-area">
                <div id="footer__pages-navigation">
                    <div>Prev</div>
                    <div>1</div>
                    <div>2</div>
                    <div>...</div>
                    <div>8</div>
                    <div>9</div>
                    <div>Next</div>
                </div>
                <div id="footer__showing-choice">
                    <div>Showing</div>
                    <div>5</div>
                    <div>of 120 entries</div>
                </div>        
            </footer>

            <!-- Modal - Add user -->
            <dialog class="dialog-for-forms" id="add-user-dialog">
                <form class="common-form" id="add-user-form">
                    <h1>Add user to the project</h1>
                    <label for="existing-user">
                        <div class="title-zone">
                            <span class="material-icons">verified_user</span>
                            <span class="label-title">Existing user</span>
                        </div>
                        <select name="existing-user" id="existing-user">
                            <option value="" disabled selected>-- Choose an option --</option>
                            <!-- Populated by every User in UsersManager.userList-->>
                        </select>
                    </label>
                    <p>If you don't find user you wanted to add, please add it in the general Users list</p>              
                    <div class="form-actions">
                        <button type="button" class="btn cancel" id="add-user-cancel-button">Cancel</button>
                        <button type="submit" class="btn accept">Accept</button>
                    </div>
                </form>
            </dialog>    
                
        </div>

      

    </main>
</body>
</html>

<!--
<script>
  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("new-user-dialog-area")?.showModal();
  });
</script>
-->